(this["webpackJsonptodos-app"]=this["webpackJsonptodos-app"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){e.exports=a.p+"static/media/preloader.88596d71.svg"},123:function(e,t,a){e.exports={preloader:"Preloader_preloader__3uOPd"}},149:function(e,t,a){e.exports=a(259)},17:function(e,t,a){e.exports={FormTodoItem:"FormTodoItem_FormTodoItem__1db-g",containerField:"FormTodoItem_containerField__2mnLG",active:"FormTodoItem_active__1uhvq",field:"FormTodoItem_field__2xG69",containerBtn:"FormTodoItem_containerBtn__1Z523",btn:"FormTodoItem_btn__3hh8U",send:"FormTodoItem_send__10WvC",cancel:"FormTodoItem_cancel__3q96b"}},18:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__1Vmo0",list:"Navbar_list__1Uqju",item:"Navbar_item__3JVtF",link:"Navbar_link__3_hBE",active:"Navbar_active__33JtP"}},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},22:function(e,t,a){e.exports={TodoItem:"TodoItem_TodoItem__1U3eW",check:"TodoItem_check__2CTMX",success:"TodoItem_success__2SJGs",todoBody:"TodoItem_todoBody__T5owV",btn:"TodoItem_btn__xAiIa",change:"TodoItem_change__4qCH5",delete:"TodoItem_delete__31ZoF"}},258:function(e,t,a){"use strict";a.r(t);var n=a(28),c=a(0),o=a.n(c),r=a(11),i=a(8),l=a(4),s=a(61),d=a(9),m=a(66),u=a.n(m),b=Object(l.d)(c.memo)((function(e){var t=e.setActiveField,a=Object(d.a)(e,["setActiveField"]);return o.a.createElement("button",Object.assign({className:"".concat(u.a.BtnAddTodo),onClick:function(){return t(1)}},a),o.a.createElement("span",{className:"".concat(u.a.iconAdd)}),o.a.createElement("span",{className:"".concat(u.a.btnBody)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"))})),f=a(63),v=a(116),_=a(117),p=a(27),g=a(39),T=a.n(g),E=function(e){var t=e.input,a=e.meta,n=e.children,c=e.required,r=(Object(d.a)(e,["input","meta","children","required"]),c&&a.touched&&a.error||t.value.length>0&&a.error);return o.a.createElement(o.a.Fragment,null,n,o.a.createElement("span",{error:r||void 0,className:"".concat(T.a.formControl," ").concat(r?T.a.error:"")},r&&o.a.createElement("span",{className:T.a.textError},a.error)))},O={textarea:function(e){var t=Object.assign({},e);return o.a.createElement(E,t,o.a.createElement("textarea",Object.assign({className:T.a.text},t.input,t)))},input:function(e){var t=Object.assign({},e);return o.a.createElement(E,Object.assign({required:"true"},t),o.a.createElement("input",Object.assign({className:T.a.text},t.input,t)))}},j=a(17),h=a.n(j),N=Object(l.d)(Object(_.a)({form:"FormTodoItem",enableReinitialize:!0}),c.memo)((function(e){var t=e.text,a=void 0===t?"":t,i=e.active,l=void 0===i||i,s=e.saveFieldClick,m=e.handleSubmit,u=e.initialize,b=e.setActiveField,_=(Object(d.a)(e,["text","active","saveFieldClick","handleSubmit","initialize","setActiveField"]),Object(r.c)()),g=Object(c.useRef)(null),T=Object(c.useRef)(null),E=Object(c.useState)(!1),j=Object(n.a)(E,2),N=j[0],F=j[1],x=Object(c.useState)(a),C=Object(n.a)(x,2),I=C[0],A=C[1];Object(c.useEffect)((function(){u({todo:I})}),[I]),Object(c.useEffect)((function(){l&&(y.focusField(),y.setCursorPosition(T,g.current.textContent.length))}),[l]),Object(c.useEffect)((function(){g.current.innerText=a,y.setCursorPosition(T,g.current.textContent.length)}),[a]);var y={onSubmit:function(e){a?(s(I),b(null)):(_(Object(p.d)({text:e.todo})),_(Object(f.a)("FormTodoItem")),A(""),g.current.innerText="",g.current.focus())},changeField:function(e){A(e.target.innerText)},toggleFocus:function(){F((function(e){return!e}))},focusField:function(){g.current.focus()},cancel:function(){g.current.innerText=a,A(a),b(null),a||_(Object(f.a)("FormTodoItem"))},setCursorPosition:function(e,t){for(var a=e.current.firstChild;t>0;){var n=a.textContent.length;if(t>n)t-=n,a=a.nextSibling;else{if(3===a.nodeType)return document.getSelection().collapse(a,t);a=a.firstChild}}}},k=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}(2e3);return o.a.createElement("form",{className:"".concat(h.a.FormTodoItem),onSubmit:m(y.onSubmit)},o.a.createElement("div",{className:"\n\t\t\t\t\t".concat(h.a.containerField,"\n\t\t\t\t\t").concat(N?h.a.active:"","\n\t\t\t\t"),ref:T,onClick:y.focusField},o.a.createElement("div",{className:"".concat(h.a.field),onSelect:function(e){return y.changeField(e)},onFocus:y.toggleFocus,onBlur:y.toggleFocus,contentEditable:"true",ref:g}),o.a.createElement(v.a,{className:"visually-hidden",validate:[k],component:O.input,type:"text",name:"todo",placeholder:"New todo",autoComplete:"off"})),o.a.createElement("div",{className:"".concat(h.a.containerBtn)},a?o.a.createElement("button",{className:"".concat(h.a.btn," ").concat(h.a.send)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):o.a.createElement("button",{className:"".concat(h.a.btn," ").concat(h.a.send)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),o.a.createElement("button",{className:"".concat(h.a.btn," ").concat(h.a.cancel),onClick:function(){y.cancel(),b(null)},type:"button"},"\u041e\u0442\u043c\u0435\u043d\u0430")))})),F=Object(l.d)(c.memo)((function(e){var t=e.activeField,a=e.setActiveField;Object(d.a)(e,["activeField","setActiveField"]);return 1===t?o.a.createElement(N,{setActiveField:a}):o.a.createElement(b,{setActiveField:a})})),x=a(22),C=a.n(x),I=Object(l.d)(c.memo)((function(e){var t=e.setActiveField,a=e.active,n=e.text,i=e.id,l=e.completed,s=(Object(d.a)(e,["setActiveField","active","text","id","completed"]),Object(r.c)()),m=Object(c.useRef)(null),u={changeField:function(e){s(Object(p.a)({text:e,id:i}))},toggleCompleted:function(){s(Object(p.e)({id:i}))},deleteTodoItem:function(e){s(Object(p.c)({id:e}))}};return a?o.a.createElement(N,{text:n,id:i,active:a,saveFieldClick:u.changeField,setActiveField:t}):o.a.createElement("li",{className:"".concat(C.a.TodoItem)},o.a.createElement("label",{className:"\n                    ".concat(C.a.check," \n                    ").concat(l?C.a.success:"")},o.a.createElement("input",{className:"visually-hidden",checked:l,type:"checkbox",onChange:u.toggleCompleted})),o.a.createElement("div",{className:"".concat(C.a.todoBody),ref:m,onClick:u.toggleCompleted,onDoubleClick:function(){return t(i)},onChange:function(e){return u.changeField(e.target.value,i)}},n),o.a.createElement("button",{className:"\n                    ".concat(C.a.btn," \n                    ").concat(C.a.change),onClick:function(){return t(i)}},"change"),o.a.createElement("button",{className:"\n                    ".concat(C.a.btn," \n                    ").concat(C.a.delete),onClick:function(){return u.deleteTodoItem(i)}},"\xd7"))})),A=a(65),y=a(13),k=function(e){return e.todo.todoList},S=function(e){return e.todo.sortType},B=function(e){return e.todo.isReverseSort},L=Object(y.a)(k,S,B,(function(e,t,a){var n=Object(A.a)(e);switch(t){case"date":n.sort((function(e,t){return e.id-t.id}));break;case"done":n.sort((function(e,t){return e.completed-t.completed}))}return a?n.reverse():n})),R=a(121),z=a.n(R),J=Object(l.d)(c.memo)((function(e){var t=e.activeField,a=e.setActiveField,n=(Object(d.a)(e,["activeField","setActiveField"]),Object(r.d)(L));return Object(c.useEffect)((function(){localStorage.setItem("todoList",JSON.stringify(n))}),[n]),o.a.createElement("ul",{className:"".concat(z.a.TodoList)},n.map((function(e){return o.a.createElement(I,Object.assign({active:t===e.id,setActiveField:a,key:e.id},e))})))})),q=a(87),P=a.n(q),w=Object(l.d)(c.memo)((function(e){Object.assign({},e);var t=Object(c.useState)(null),a=Object(n.a)(t,2),r=a[0],i=a[1];return o.a.createElement("section",{className:"".concat(P.a.Inbox)},o.a.createElement("h2",{className:"".concat(P.a.title)},"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435"),o.a.createElement(J,{activeField:r,setActiveField:i}),o.a.createElement(F,{activeField:r,setActiveField:i}))})),D=a(88),Y=a.n(D),G=Object(l.d)(c.memo)((function(e){Object.assign({},e);return o.a.createElement("section",{className:"".concat(Y.a.Today)},o.a.createElement("h2",{className:"".concat(Y.a.title," mb-4")},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"))})),V=a(89),M=a.n(V),U=Object(l.d)(c.memo)((function(e){Object.assign({},e);return o.a.createElement("section",{className:"".concat(M.a.Calendar)},o.a.createElement("h2",{className:"".concat(M.a.title," mb-4")},"\u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0435\u0435"))})),Z=a(33),W=a(18),H=a.n(W),K=Object(l.d)(c.memo)((function(e){var t=Object.assign({},e);return o.a.createElement("nav",{className:"".concat(t.className," ").concat(H.a.Navbar)},o.a.createElement("ul",{className:"".concat(H.a.list)},o.a.createElement("li",{className:"".concat(H.a.item)},o.a.createElement(Z.b,{className:"".concat(H.a.link),activeClassName:H.a.active,to:"/inbox"},"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435")),o.a.createElement("li",{className:"".concat(H.a.item)},o.a.createElement(Z.b,{className:"".concat(H.a.link),activeClassName:H.a.active,to:"/today"},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f")),o.a.createElement("li",{className:"".concat(H.a.item)},o.a.createElement(Z.b,{className:"".concat(H.a.link),activeClassName:H.a.active,to:"/calendar"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"))))})),Q=a(122),X=a.n(Q),$=a(123),ee=a.n($),te=function(){return o.a.createElement("section",{className:ee.a.preloader},o.a.createElement("img",{src:X.a,alt:"loading"}))},ae=a(92),ne=a.n(ae),ce=Object(l.d)(c.memo)((function(e){var t=e.isDarkTheme,a=e.toggle;Object(d.a)(e,["isDarkTheme","toggle"]);return o.a.createElement("button",{className:"\n                ".concat(ne.a.ToggleTheme," \n                ").concat(t?ne.a.darkTheme:""," \n                btn"),onClick:a})})),oe=a(93),re=a.n(oe),ie=Object(l.d)(c.memo)((function(e){var t=e.isActiveNavbar,a=e.toggle;Object(d.a)(e,["isActiveNavbar","toggle"]);return o.a.createElement("button",{className:"\n                ".concat(re.a.ToggleNavbar,"\n                ").concat(t?re.a.active:"","\n                btn    \n            "),onClick:a})})),le=a(49),se=a.n(le);t.default=Object(l.d)(c.memo)((function(e){Object.assign({},e);var t=Object(c.useState)(!1),a=Object(n.a)(t,2),l=a[0],d=a[1],m=Object(c.useState)(!0),u=Object(n.a)(m,2),b=u[0],f=u[1],v=Object(r.c)(),_=Object(r.d)((function(e){return e.app})).initialized;Object(c.useEffect)((function(){v(Object(s.b)())}),[v]);var p=function(e){e((function(e){return!e}))};return _?o.a.createElement("div",{className:"".concat(l?"darkTheme":""," ").concat(se.a.App)},o.a.createElement("header",{className:"".concat(se.a.header)},o.a.createElement("h1",{className:"visually-hidden"},"Todo list"),o.a.createElement(ie,{isActiveNavbar:b,toggle:function(){return p(f)}}),o.a.createElement(ce,{isDarkTheme:l,toggle:function(){return p(d)}})),b&&o.a.createElement(K,{className:se.a.nav}),o.a.createElement("main",{className:"".concat(se.a.main)},o.a.createElement(i.c,null,o.a.createElement(i.a,{path:"/inbox",render:function(){return o.a.createElement(w,null)}}),o.a.createElement(i.a,{path:"/today",render:function(){return o.a.createElement(G,null)}}),o.a.createElement(i.a,{path:"/calendar",render:function(){return o.a.createElement(U,null)}}),o.a.createElement(i.a,{path:"/",exact:!0,render:function(){return o.a.createElement(w,null)}})))):o.a.createElement(te,null)}))},259:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(59),r=a.n(o),i=a(11),l=a(33),s=a(32),d=a(4),m=a(118),u=a(61),b=a(27),f=Object(d.c)({app:u.a,todo:b.b,form:m.a});var v=Object(s.a)({reducer:f});a(217),a(218),a(219);!function(){var e=a(258).default;r.a.render(c.a.createElement(l.a,{basename:"https://cool1997.github.io/portfolio/"},c.a.createElement(i.a,{store:v},c.a.createElement(e,null))),document.getElementById("root"))}()},27:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return m}));var n=a(50),c=a(65),o=a(32),r=Object(o.b)({name:"todo",initialState:{todoList:JSON.parse(localStorage.getItem("todoList"))||[],sortType:"date",allSortType:["date","done"],isReverseSort:!1},reducers:{sendTodoItem:function(e,t){var a={text:t.payload.text,id:+"".concat(Date.now()),completed:!1};e.todoList=[].concat(Object(c.a)(e.todoList),[a])},changeTodoItemText:function(e,t){var a=t.payload,c=a.text,o=a.id;e.todoList=e.todoList.map((function(e){return e.id===o?Object(n.a)(Object(n.a)({},e),{},{text:c}):e}))},toggleCompleted:function(e,t){var a=t.payload.id;e.todoList=e.todoList.map((function(e){return e.id===a?Object(n.a)(Object(n.a)({},e),{},{completed:!e.completed}):e}))},deleteTodoItem:function(e,t){var a=t.payload.id;e.todoList=e.todoList.filter((function(e){return e.id!==a}))},sortBy:function(e,t){var a=t.payload.sort;e.sortType=a},doReverseSort:function(e,t){var a=t.payload.isReverseSort;e.isReverseSort=a}}}),i=r.actions,l=i.sendTodoItem,s=i.changeTodoItemText,d=i.toggleCompleted,m=i.deleteTodoItem;i.sortBy,i.doReverseSort;t.b=r.reducer},39:function(e,t,a){e.exports={formControl:"FormsControls_formControl__14eVv",error:"FormsControls_error__1A1JB"}},49:function(e,t,a){e.exports={App:"App_App__r-SBe",nav:"App_nav__2Rq4-",header:"App_header__3zq2z",main:"App_main__1pf0Z"}},61:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var n=a(32),c=Object(n.b)({name:"todos",initialState:{initialized:!1},reducers:{initializedSuccess:function(e,t){e.initialized=!0}}}),o=c.actions.initializedSuccess;t.a=c.reducer},66:function(e,t,a){e.exports={BtnAddTodo:"BtnAddTodo_BtnAddTodo__2arYY",iconAdd:"BtnAddTodo_iconAdd__1dN0J"}},87:function(e,t,a){e.exports={Inbox:"Inbox_Inbox__Tacsb",title:"Inbox_title__3ffS3"}},88:function(e,t,a){e.exports={Today:"Today_Today__3iJbF",title:"Today_title__2MsIt"}},89:function(e,t,a){e.exports={Calendar:"Calendar_Calendar__3YmlG",title:"Calendar_title__1eYe-"}},92:function(e,t,a){e.exports={ToggleTheme:"ToggleTheme_ToggleTheme__p55IS",darkTheme:"ToggleTheme_darkTheme__1PpTQ"}},93:function(e,t,a){e.exports={ToggleNavbar:"ToggleNavbar_ToggleNavbar__2aNEC",active:"ToggleNavbar_active__3KYv0"}}},[[149,1,2]]]);
//# sourceMappingURL=main.e9687d67.chunk.js.map