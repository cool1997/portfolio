(this["webpackJsonptodos-app"]=this["webpackJsonptodos-app"]||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){e.exports=n.p+"static/media/preloader.88596d71.svg"},125:function(e,t,n){e.exports={preloader:"Preloader_preloader__3uOPd"}},151:function(e,t,n){e.exports=n(261)},16:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return b}));var a=n(51),c=n(66),o=n(32),r=Object(o.b)({name:"todo",initialState:{todoList:JSON.parse(localStorage.getItem("todoList"))||[],sortType:"date",allSortType:["date","done"],isReverseSort:!1},reducers:{sendTodoItem:function(e,t){var n={text:t.payload.text,id:+"".concat(Date.now()),completed:!1};e.todoList=[].concat(Object(c.a)(e.todoList),[n])},changeTodoItemText:function(e,t){var n=t.payload,c=n.text,o=n.id;e.todoList=e.todoList.map((function(e){return e.id===o?Object(a.a)(Object(a.a)({},e),{},{text:c}):e}))},toggleCompleted:function(e,t){var n=t.payload.id;e.todoList=e.todoList.map((function(e){return e.id===n?Object(a.a)(Object(a.a)({},e),{},{completed:!e.completed}):e}))},deleteTodoItem:function(e,t){var n=t.payload.id;e.todoList=e.todoList.filter((function(e){return e.id!==n}))},sortBy:function(e,t){var n=t.payload.sort;e.sortType=n},doReverseSort:function(e,t){var n=t.payload.isReverseSort;e.isReverseSort=n}}}),i=r.actions,l=i.sendTodoItem,s=i.changeTodoItemText,d=i.toggleCompleted,m=i.deleteTodoItem,u=i.sortBy,b=i.doReverseSort;t.b=r.reducer},18:function(e,t,n){e.exports={FormTodoItem:"FormTodoItem_FormTodoItem__1db-g",containerField:"FormTodoItem_containerField__2mnLG",active:"FormTodoItem_active__1uhvq",field:"FormTodoItem_field__2xG69",containerBtn:"FormTodoItem_containerBtn__1Z523",btn:"FormTodoItem_btn__3hh8U",send:"FormTodoItem_send__10WvC",cancel:"FormTodoItem_cancel__3q96b"}},19:function(e,t,n){e.exports={Navbar:"Navbar_Navbar__1Vmo0",list:"Navbar_list__1Uqju",item:"Navbar_item__3JVtF",link:"Navbar_link__3_hBE",active:"Navbar_active__33JtP"}},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},24:function(e,t,n){e.exports={TodoItem:"TodoItem_TodoItem__1U3eW",check:"TodoItem_check__2CTMX",success:"TodoItem_success__2SJGs",todoBody:"TodoItem_todoBody__T5owV",btn:"TodoItem_btn__xAiIa",change:"TodoItem_change__4qCH5",delete:"TodoItem_delete__31ZoF"}},260:function(e,t,n){"use strict";n.r(t);var a=n(23),c=n(0),o=n.n(c),r=n(9),i=n(8),l=n(2),s=n(62),d=n(10),m=n(16),u=n(87),b=n.n(u),f=Object(l.d)(c.memo)((function(e){var t=e.type,n=(Object(d.a)(e,["type"]),Object(r.c)()),a=Object(r.d)((function(e){return e.todo})),c=a.sortType,i=a.isReverseSort;return o.a.createElement("button",{className:"".concat(b.a.SortBtn," ").concat(t===c?b.a.active:""),onClick:function(){return e=t,n(Object(m.f)({sort:e})),void n(c===e?Object(m.d)({isReverseSort:!i}):Object(m.d)({isReverseSort:!1}));var e}},t)})),_=n(39),v=n.n(_),p=Object(l.d)(c.memo)((function(e){var t=Object.assign({},e),n=Object(r.d)((function(e){return e.todo})).allSortType,i=Object(c.useState)(!1),l=Object(a.a)(i,2),s=l[0],d=l[1],m={toggleIsOpen:function(){d((function(e){return!e}))}};return o.a.createElement(o.a.Fragment,null,s&&o.a.createElement("div",{className:"".concat(v.a.overlay),onClick:m.toggleIsOpen}),o.a.createElement("section",{className:"".concat(v.a.Controls)},o.a.createElement("button",{className:"".concat(v.a.openControls),onClick:m.toggleIsOpen},o.a.createElement("span",{className:"visually-hidden"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443"),o.a.createElement("span",{className:"".concat(v.a.dot)})),s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"".concat(v.a.controlsList),onClick:m.toggleIsOpen},n.map((function(e){return o.a.createElement(f,Object.assign({key:e,type:e},t))}))))))})),g=n(67),O=n.n(g),E=Object(l.d)(c.memo)((function(e){var t=e.setActiveField,n=Object(d.a)(e,["setActiveField"]);return o.a.createElement("button",Object.assign({className:"".concat(O.a.BtnAddTodo),onClick:function(){return t(1)}},n),o.a.createElement("span",{className:"".concat(O.a.iconAdd)}),o.a.createElement("span",{className:"".concat(O.a.btnBody)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"))})),j=n(64),T=n(118),N=n(119),h=n(40),C=n.n(h),F=function(e){var t=e.input,n=e.meta,a=e.children,c=e.required,r=(Object(d.a)(e,["input","meta","children","required"]),c&&n.touched&&n.error||t.value.length>0&&n.error);return o.a.createElement(o.a.Fragment,null,a,o.a.createElement("span",{error:r||void 0,className:"".concat(C.a.formControl," ").concat(r?C.a.error:"")},r&&o.a.createElement("span",{className:C.a.textError},n.error)))},x={textarea:function(e){var t=Object.assign({},e);return o.a.createElement(F,t,o.a.createElement("textarea",Object.assign({className:C.a.text},t.input,t)))},input:function(e){var t=Object.assign({},e);return o.a.createElement(F,Object.assign({required:"true"},t),o.a.createElement("input",Object.assign({className:C.a.text},t.input,t)))}},I=n(18),y=n.n(I),S=Object(l.d)(Object(N.a)({form:"FormTodoItem",enableReinitialize:!0}),c.memo)((function(e){var t=e.text,n=void 0===t?"":t,i=e.active,l=void 0===i||i,s=e.saveFieldClick,u=e.handleSubmit,b=e.initialize,f=e.setActiveField,_=(Object(d.a)(e,["text","active","saveFieldClick","handleSubmit","initialize","setActiveField"]),Object(r.c)()),v=Object(c.useRef)(null),p=Object(c.useRef)(null),g=Object(c.useState)(!1),O=Object(a.a)(g,2),E=O[0],N=O[1],h=Object(c.useState)(n),C=Object(a.a)(h,2),F=C[0],I=C[1];Object(c.useEffect)((function(){b({todo:F})}),[F]),Object(c.useEffect)((function(){l&&(S.focusField(),S.setCursorPosition(p,v.current.textContent.length))}),[l]),Object(c.useEffect)((function(){v.current.innerText=n,S.setCursorPosition(p,v.current.textContent.length)}),[n]);var S={onSubmit:function(e){!n&&e.todo.trim().length?(_(Object(m.e)({text:e.todo})),_(Object(j.a)("FormTodoItem")),I(""),v.current.innerText="",v.current.focus()):e.todo.trim().length?(s(F),f(null)):f(null)},changeField:function(e){I(e.target.innerText)},toggleFocus:function(){N((function(e){return!e}))},focusField:function(){v.current.focus()},cancel:function(){v.current.innerText=n,I(n),f(null),n||_(Object(j.a)("FormTodoItem"))},setCursorPosition:function(e,t){for(var n=e.current.firstChild;t>0;){var a=n.textContent.length;if(t>a)t-=a,n=n.nextSibling;else{if(3===n.nodeType)return document.getSelection().collapse(n,t);n=n.firstChild}}}},k=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}(2e3);return o.a.createElement("form",{className:"".concat(y.a.FormTodoItem),onSubmit:u(S.onSubmit)},o.a.createElement("div",{className:"\n\t\t\t\t\t".concat(y.a.containerField,"\n\t\t\t\t\t").concat(E?y.a.active:"","\n\t\t\t\t"),ref:p,onClick:S.focusField},o.a.createElement("div",{className:"".concat(y.a.field),onSelect:function(e){return S.changeField(e)},onFocus:S.toggleFocus,onBlur:S.toggleFocus,contentEditable:"true",ref:v}),o.a.createElement(T.a,{className:"visually-hidden",validate:[k],component:x.input,type:"text",name:"todo",placeholder:"New todo",autoComplete:"off"})),o.a.createElement("div",{className:"".concat(y.a.containerBtn)},n?o.a.createElement("button",{className:"".concat(y.a.btn," ").concat(y.a.send)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):o.a.createElement("button",{className:"".concat(y.a.btn," ").concat(y.a.send)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),o.a.createElement("button",{className:"".concat(y.a.btn," ").concat(y.a.cancel),onClick:function(){S.cancel(),f(null)},type:"button"},"\u041e\u0442\u043c\u0435\u043d\u0430")))})),k=Object(l.d)(c.memo)((function(e){var t=e.activeField,n=e.setActiveField;Object(d.a)(e,["activeField","setActiveField"]);return 1===t?o.a.createElement(S,{setActiveField:n}):o.a.createElement(E,{setActiveField:n})})),A=n(24),B=n.n(A),L=Object(l.d)(c.memo)((function(e){var t=e.setActiveField,n=e.active,a=e.text,i=e.id,l=e.completed,s=(Object(d.a)(e,["setActiveField","active","text","id","completed"]),Object(r.c)()),u=Object(c.useRef)(null),b={changeField:function(e){s(Object(m.a)({text:e,id:i}))},toggleCompleted:function(){s(Object(m.g)({id:i}))},deleteTodoItem:function(e){s(Object(m.c)({id:e}))}};return n?o.a.createElement(S,{text:a,id:i,active:n,saveFieldClick:b.changeField,setActiveField:t}):o.a.createElement("li",{className:"".concat(B.a.TodoItem)},o.a.createElement("label",{className:"\n                    ".concat(B.a.check," \n                    ").concat(l?B.a.success:"")},o.a.createElement("input",{className:"visually-hidden",checked:l,type:"checkbox",onChange:b.toggleCompleted})),o.a.createElement("div",{className:"".concat(B.a.todoBody),ref:u,onClick:b.toggleCompleted,onDoubleClick:function(){return t(i)},onChange:function(e){return b.changeField(e.target.value,i)}},a),o.a.createElement("button",{className:"\n                    ".concat(B.a.btn," \n                    ").concat(B.a.change),onClick:function(){return t(i)}},"change"),o.a.createElement("button",{className:"\n                    ".concat(B.a.btn," \n                    ").concat(B.a.delete),onClick:function(){return b.deleteTodoItem(i)}},"\xd7"))})),R=n(66),z=n(13),J=function(e){return e.todo.todoList},q=function(e){return e.todo.sortType},P=function(e){return e.todo.isReverseSort},w=Object(z.a)(J,q,P,(function(e,t,n){var a=Object(R.a)(e);switch(t){case"date":a.sort((function(e,t){return e.id-t.id}));break;case"done":a.sort((function(e,t){return e.completed-t.completed}))}return n?a.reverse():a})),D=n(123),G=n.n(D),Y=Object(l.d)(c.memo)((function(e){var t=e.activeField,n=e.setActiveField,a=(Object(d.a)(e,["activeField","setActiveField"]),Object(r.d)(w));return Object(c.useEffect)((function(){localStorage.setItem("todoList",JSON.stringify(a))}),[a]),o.a.createElement("ul",{className:"".concat(G.a.TodoList)},a.map((function(e){return o.a.createElement(L,Object.assign({active:t===e.id,setActiveField:n,key:e.id},e))})))})),V=n(69),H=n.n(V),M=Object(l.d)(c.memo)((function(e){Object.assign({},e);var t=Object(c.useState)(null),n=Object(a.a)(t,2),r=n[0],i=n[1];return o.a.createElement("section",{className:"".concat(H.a.Inbox)},o.a.createElement("div",{className:"".concat(H.a.headerContainer)},o.a.createElement("h2",{className:"".concat(H.a.title)},"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435"),o.a.createElement(p,null)),o.a.createElement(Y,{activeField:r,setActiveField:i}),o.a.createElement(k,{activeField:r,setActiveField:i}))})),U=n(90),Z=n.n(U),Q=Object(l.d)(c.memo)((function(e){Object.assign({},e);return o.a.createElement("section",{className:"".concat(Z.a.Today)},o.a.createElement("h2",{className:"".concat(Z.a.title," mb-4")},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"))})),W=n(91),X=n.n(W),K=Object(l.d)(c.memo)((function(e){Object.assign({},e);return o.a.createElement("section",{className:"".concat(X.a.Calendar)},o.a.createElement("h2",{className:"".concat(X.a.title," mb-4")},"\u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0435\u0435"))})),$=n(33),ee=n(19),te=n.n(ee),ne=Object(l.d)(c.memo)((function(e){var t=Object.assign({},e);return o.a.createElement("nav",{className:"".concat(t.className," ").concat(te.a.Navbar)},o.a.createElement("ul",{className:"".concat(te.a.list)},o.a.createElement("li",{className:"".concat(te.a.item)},o.a.createElement($.b,{className:"".concat(te.a.link),activeClassName:te.a.active,to:"/inbox"},"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435")),o.a.createElement("li",{className:"".concat(te.a.item)},o.a.createElement($.b,{className:"".concat(te.a.link),activeClassName:te.a.active,to:"/today"},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f")),o.a.createElement("li",{className:"".concat(te.a.item)},o.a.createElement($.b,{className:"".concat(te.a.link),activeClassName:te.a.active,to:"/calendar"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"))))})),ae=n(124),ce=n.n(ae),oe=n(125),re=n.n(oe),ie=function(){return o.a.createElement("section",{className:re.a.preloader},o.a.createElement("img",{src:ce.a,alt:"loading"}))},le=n(94),se=n.n(le),de=Object(l.d)(c.memo)((function(e){var t=e.isDarkTheme,n=e.toggle;Object(d.a)(e,["isDarkTheme","toggle"]);return o.a.createElement("button",{className:"\n                ".concat(se.a.ToggleTheme," \n                ").concat(t?se.a.darkTheme:""," \n                btn"),onClick:n})})),me=n(95),ue=n.n(me),be=Object(l.d)(c.memo)((function(e){var t=e.isActiveNavbar,n=e.toggle;Object(d.a)(e,["isActiveNavbar","toggle"]);return o.a.createElement("button",{className:"\n                ".concat(ue.a.ToggleNavbar,"\n                ").concat(t?ue.a.active:"","\n                btn    \n            "),onClick:n})})),fe=n(41),_e=n.n(fe);t.default=Object(l.d)(c.memo)((function(e){Object.assign({},e);var t=Object(c.useState)(!1),n=Object(a.a)(t,2),l=n[0],d=n[1],m=Object(c.useState)(!0),u=Object(a.a)(m,2),b=u[0],f=u[1],_=Object(r.c)(),v=Object(r.d)((function(e){return e.app})).initialized;Object(c.useEffect)((function(){_(Object(s.b)())}),[_]);var p=function(e){e((function(e){return!e}))};return v?o.a.createElement("div",{className:"".concat(l?"darkTheme":""," ").concat(_e.a.App)},o.a.createElement("header",{className:"".concat(_e.a.header)},o.a.createElement("h1",{className:"visually-hidden"},"Todo list"),o.a.createElement(be,{isActiveNavbar:b,toggle:function(){return p(f)}}),o.a.createElement(de,{isDarkTheme:l,toggle:function(){return p(d)}})),b&&o.a.createElement(ne,{className:_e.a.nav}),o.a.createElement("main",{className:"".concat(_e.a.main)},o.a.createElement("div",{className:"".concat(_e.a.mainContainer)},o.a.createElement(i.c,null,o.a.createElement(i.a,{path:"/inbox",render:function(){return o.a.createElement(M,null)}}),o.a.createElement(i.a,{path:"/today",render:function(){return o.a.createElement(Q,null)}}),o.a.createElement(i.a,{path:"/calendar",render:function(){return o.a.createElement(K,null)}}),o.a.createElement(i.a,{path:"/",exact:!0,render:function(){return o.a.createElement(M,null)}}))))):o.a.createElement(ie,null)}))},261:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(60),r=n.n(o),i=n(9),l=n(33),s=n(32),d=n(2),m=n(120),u=n(62),b=n(16),f=Object(d.c)({app:u.a,todo:b.b,form:m.a});var _=Object(s.a)({reducer:f});n(219),n(220),n(221);!function(){var e=n(260).default;r.a.render(c.a.createElement(l.a,{basename:"https://cool1997.github.io/portfolio/"},c.a.createElement(i.a,{store:_},c.a.createElement(e,null))),document.getElementById("root"))}()},39:function(e,t,n){e.exports={Controls:"Controls_Controls__3XEnH",openControls:"Controls_openControls__hG8QE",dot:"Controls_dot__1JthO",controlsList:"Controls_controlsList__IN2BT",overlay:"Controls_overlay__2z4m6"}},40:function(e,t,n){e.exports={formControl:"FormsControls_formControl__14eVv",error:"FormsControls_error__1A1JB"}},41:function(e,t,n){e.exports={App:"App_App__r-SBe",nav:"App_nav__2Rq4-",header:"App_header__3zq2z",main:"App_main__1pf0Z",mainContainer:"App_mainContainer__1NAFL"}},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(32),c=Object(a.b)({name:"todos",initialState:{initialized:!1},reducers:{initializedSuccess:function(e,t){e.initialized=!0}}}),o=c.actions.initializedSuccess;t.a=c.reducer},67:function(e,t,n){e.exports={BtnAddTodo:"BtnAddTodo_BtnAddTodo__2arYY",iconAdd:"BtnAddTodo_iconAdd__1dN0J"}},69:function(e,t,n){e.exports={Inbox:"Inbox_Inbox__Tacsb",headerContainer:"Inbox_headerContainer__2NCdH",title:"Inbox_title__3ffS3"}},87:function(e,t,n){e.exports={SortBtn:"SortBtn_SortBtn__3dyop"}},90:function(e,t,n){e.exports={Today:"Today_Today__3iJbF",title:"Today_title__2MsIt"}},91:function(e,t,n){e.exports={Calendar:"Calendar_Calendar__3YmlG",title:"Calendar_title__1eYe-"}},94:function(e,t,n){e.exports={ToggleTheme:"ToggleTheme_ToggleTheme__p55IS",darkTheme:"ToggleTheme_darkTheme__1PpTQ"}},95:function(e,t,n){e.exports={ToggleNavbar:"ToggleNavbar_ToggleNavbar__2aNEC",active:"ToggleNavbar_active__3KYv0"}}},[[151,1,2]]]);
//# sourceMappingURL=main.1f9c0d29.chunk.js.map